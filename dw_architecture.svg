<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" width="1200" height="700" viewBox="0 0 1200 700">
  <style>
    .title { font: 700 22px 'Segoe UI', Arial; fill: #222; }
    .subtitle { font: 600 16px 'Segoe UI', Arial; fill: #333; }
    .text { font: 500 14px 'Segoe UI', Arial; fill: #333; }
    .small { font: 500 12px 'Segoe UI', Arial; fill: #333; }
    .node { fill: #fff; stroke: #333; stroke-width: 1.2; rx: 10; }
    .group { fill: #f7f9fc; stroke: #9aa4b2; stroke-width: 1.2; rx: 12; }
    .accent { fill: #e9f3ff; stroke: #3b82f6; }
    .lake { fill: #eef9f0; stroke: #22c55e; }
    .pillar { fill: #fdf2f8; stroke: #ec4899; }
    .arrow { stroke: #374151; stroke-width: 2; marker-end: url(#arrowHead); }
    .dashed { stroke-dasharray: 6 6; }
    .legend { font: 600 12px 'Segoe UI', Arial; fill: #555; }
  </style>
  <defs>
    <marker id="arrowHead" markerWidth="6" markerHeight="6" refX="5" refY="3" orient="auto" viewBox="0 0 10 10">
      <path d="M0,0 L10,3 L0,6 Z" fill="#374151" />
    </marker>
  </defs>

  <!-- عنوان -->
  <text x="600" y="40" text-anchor="middle" class="title">معمارية الداتا ويرهاوس حتى طبقة التخزين</text>

  <!-- أعمدة الحوكمة والجودة -->
  <rect x="20" y="70" width="240" height="70" class="pillar" />
  <text x="30" y="95" class="subtitle">الحوكمة والكتالوج</text>
  <text x="30" y="120" class="small">الميتاداتا • النَسَب (Lineage) • الأمن والامتثال</text>

  <rect x="20" y="150" width="240" height="70" class="pillar" />
  <text x="30" y="175" class="subtitle">جودة البيانات</text>
  <text x="30" y="200" class="small">اكتمال • تناسق مرجعي • نطاق القيم • ازدواجات</text>

  <!-- مصادر البيانات -->
  <rect x="20" y="240" width="260" height="400" class="group" />
  <text x="30" y="265" class="subtitle">مصادر البيانات</text>
  <rect x="30" y="285" width="110" height="50" class="node" />
  <text x="85" y="315" class="text" text-anchor="middle">ERP</text>
  <rect x="150" y="285" width="110" height="50" class="node" />
  <text x="205" y="315" class="small" text-anchor="middle">MES</text>

  <rect x="30" y="345" width="110" height="50" class="node" />
  <text x="85" y="375" class="small" text-anchor="middle">SCADA</text>
  <rect x="150" y="345" width="110" height="50" class="node" />
  <text x="205" y="375" class="small" text-anchor="middle">حساسات IoT</text>

  <rect x="30" y="405" width="110" height="50" class="node" />
  <text x="85" y="435" class="small" text-anchor="middle">CSV/JSON</text>
  <rect x="150" y="405" width="110" height="50" class="node" />
  <text x="205" y="435" class="small" text-anchor="middle">APIs</text>

  <rect x="30" y="465" width="230" height="50" class="node" />
  <text x="145" y="495" class="small" text-anchor="middle">Logs/Events/Telemetry</text>

  <!-- خط الأنابيب التحضيري -->
  <rect x="320" y="260" width="180" height="80" class="accent node" />
  <text x="410" y="290" class="text" text-anchor="middle">Landing Zone</text>
  <text x="410" y="310" class="small" text-anchor="middle">استقبال البيانات كما هي</text>

  <rect x="530" y="260" width="180" height="80" class="accent node" />
  <text x="620" y="290" class="text" text-anchor="middle">Staging Zone</text>
  <text x="620" y="310" class="small" text-anchor="middle">تنظيف أولي وتسوية الحقول</text>

  <rect x="740" y="260" width="180" height="80" class="node" />
  <text x="830" y="290" class="text" text-anchor="middle">ODS</text>
  <text x="830" y="310" class="small" text-anchor="middle">صورة تشغيلية موحّدة</text>

  <!-- EDW و Data Marts -->
  <rect x="950" y="220" width="200" height="110" class="node" />
  <text x="1050" y="250" class="text" text-anchor="middle">EDW</text>
  <text x="1050" y="270" class="small" text-anchor="middle">مستودع مؤسسي طويل الأجل</text>

  <rect x="950" y="350" width="200" height="110" class="node" />
  <text x="1050" y="380" class="text" text-anchor="middle">Data Marts</text>
  <text x="1050" y="400" class="small" text-anchor="middle">موضوعية (إنتاج/صيانة/جودة)</text>

  <!-- طبقة التحليلات -->
  <rect x="1170" y="250" width="20" height="190" class="group" />
  <text x="1160" y="245" class="legend" text-anchor="end">تحليلات/تقارير/ML</text>

  <!-- Data Lake -->
  <rect x="320" y="380" width="380" height="220" class="lake group" />
  <text x="340" y="405" class="subtitle">Data Lake (ملفات منسّقة)</text>
  <rect x="340" y="420" width="160" height="70" class="node" />
  <text x="420" y="450" class="small" text-anchor="middle">Raw Zone (خام)</text>
  <rect x="510" y="420" width="160" height="70" class="node" />
  <text x="590" y="450" class="small" text-anchor="middle">Curated Zone (منسّق)</text>
  <text x="510" y="505" class="small">تنسيقات: Parquet/ORC • ضغط</text>

  <!-- أسهم التدفق الرئيسي -->
  <line x1="280" y1="300" x2="320" y2="300" class="arrow" />
  <line x1="500" y1="300" x2="530" y2="300" class="arrow" />
  <line x1="710" y1="300" x2="740" y2="300" class="arrow" />
  <line x1="920" y1="300" x2="950" y2="275" class="arrow" />
  <line x1="920" y1="300" x2="950" y2="385" class="arrow" />
  <line x1="1150" y1="275" x2="1170" y2="275" class="arrow" />
  <line x1="1150" y1="405" x2="1170" y2="405" class="arrow" />

  <!-- أسهم اختيارية (ELT/CDC/Streaming) -->
  <line x1="250" y1="520" x2="340" y2="455" class="arrow dashed" />
  <text x="275" y="505" class="small">Batch/Streaming</text>
  <line x1="670" y1="455" x2="740" y2="300" class="arrow dashed" />
  <text x="690" y="440" class="small">ELT إلى ODS/EDW</text>

  <!-- شرح موجز -->
  <text x="320" y="150" class="small">التدفق: مصادر → Landing → Staging → ODS → EDW → Data Marts → تحليلات</text>
  <text x="320" y="170" class="small">Data Lake يعمل بالتوازي لتخزين طويل الأجل منخفض التكلفة</text>
</svg>